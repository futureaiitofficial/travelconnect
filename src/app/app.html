<!-- TravelConnect Main Application Layout - Modern Design -->
<div class="app-container" [class.dark-mode]="darkMode()" [class.auth-layout]="isAuthRoute()">

  <!-- Authentication Layout (Full Page) -->
  @if (isAuthRoute()) {
    <main class="auth-main">
      <router-outlet></router-outlet>
    </main>
  } @else {
    <!-- Main App Layout with Sidebar -->

    <!-- Desktop Sidebar Navigation (hidden on mobile) -->
    <nav class="sidebar-nav hide-on-mobile">
      <div class="sidebar-header">
        <a routerLink="/" class="logo">
          <span class="logo-text">TravelConnect</span>
        </a>
      </div>

      <div class="sidebar-menu">
        <a routerLink="/feed" routerLinkActive="active" class="sidebar-link">
          <i class="icon-home"></i>
          <span>Feed</span>
        </a>
        <a routerLink="/explore" routerLinkActive="active" class="sidebar-link">
          <i class="icon-globe"></i>
          <span>Explore Trips</span>
        </a>
        <a routerLink="/trips" routerLinkActive="active" class="sidebar-link">
          <i class="icon-map"></i>
          <span>Trips</span>
        </a>
        <a routerLink="/messages" routerLinkActive="active" class="sidebar-link">
          <i class="icon-message"></i>
          <span>Messages</span>
        </a>

        <a routerLink="/people" routerLinkActive="active" class="sidebar-link">
          <i class="icon-users"></i>
          <span>People Search</span>
        </a>
        <a routerLink="/create" routerLinkActive="active" class="sidebar-link">
          <i class="icon-plus-square"></i>
          <span>Create</span>
        </a>
        <a routerLink="/profile" routerLinkActive="active" class="sidebar-link profile-link">
          <i class="icon-user"></i>
          <span>Profile</span>
        </a>
      </div>

      <div class="sidebar-footer">
        <button class="theme-toggle" (click)="toggleTheme()">
          <i [class]="darkMode() ? 'icon-sun' : 'icon-moon'"></i>
          <span>{{ darkMode() ? 'Light Mode' : 'Dark Mode' }}</span>
        </button>
        @if (isAuthenticated()) {
          <button class="sidebar-link logout-btn" (click)="logout()">
            <i class="icon-logout"></i>
            <span>Logout</span>
          </button>
        }
        <a routerLink="/settings" class="sidebar-link">
          <i class="icon-settings"></i>
          <span>Settings</span>
        </a>
      </div>
    </nav>

    <!-- Mobile Header (visible only on mobile) -->
    <header class="mobile-header hide-on-desktop">
      <div class="mobile-header-content">
        <a routerLink="/" class="logo">
          <span class="logo-text">TravelConnect</span>
        </a>

        <div class="mobile-actions">
          <button class="icon-button">
            <i class="icon-search"></i>
          </button>

          <button class="icon-button">
            <i class="icon-message"></i>
          </button>
        </div>
      </div>
    </header>

    <!-- Main Content Area -->
    <main class="main-content">
      <router-outlet></router-outlet>
    </main>

    <!-- Mobile Bottom Navigation (visible only on mobile) -->
    <nav class="mobile-nav hide-on-desktop">
      <a routerLink="/feed" routerLinkActive="active" class="nav-item">
        <i class="icon-home"></i>
      </a>
      <a routerLink="/explore" routerLinkActive="active" class="nav-item">
        <i class="icon-globe"></i>
      </a>
      <a routerLink="/people" routerLinkActive="active" class="nav-item">
        <i class="icon-users"></i>
      </a>
      <a routerLink="/create" routerLinkActive="active" class="nav-item create-button">
        <i class="icon-plus"></i>
      </a>
      <a routerLink="/trips" routerLinkActive="active" class="nav-item">
        <i class="icon-map"></i>
      </a>
      <a routerLink="/profile" routerLinkActive="active" class="nav-item">
        <i class="icon-user"></i>
      </a>
    </nav>
  }
</div>
